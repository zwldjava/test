{"name": "缺少必填字段-extra_data.items", "status": "failed", "statusDetails": {"message": "AssertionError: 响应码应该为200，实际为400\nassert 400 == 200", "trace": "self = <api_test_framework.tests.api.test_wo_api.TestWoAPI object at 0x000001EE40DF4F50>\ntest_case_index = 7\n\n    @pytest.mark.parametrize(\"test_case_index\", range(12))\n    def test_wo_api(self, test_case_index):\n        test_case = self.test_cases[test_case_index]\n    \n        allure.dynamic.feature(test_case[\"feature\"])\n        allure.dynamic.story(test_case[\"story\"])\n        allure.dynamic.severity(getattr(allure.severity_level, test_case[\"severity\"].upper()))\n        allure.dynamic.title(test_case[\"name\"])\n    \n        for tag in test_case.get(\"tags\", []):\n            allure.dynamic.tag(tag)\n    \n        with allure.step(f\"测试用例: {test_case['name']}\"):\n            with allure.step(\"发送请求\"):\n                response = self._execute_request(test_case[\"request\"])\n                self._attach_data(response, test_case[\"request\"])\n    \n            with allure.step(\"验证响应\"):\n>               self._run_validations(response, test_case[\"request\"], test_case[\"validations\"])\n\ntests\\api\\test_wo_api.py:174: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <api_test_framework.tests.api.test_wo_api.TestWoAPI object at 0x000001EE40DF4F50>\nresponse = <Response [200]>\nrequest_data = {'body': {'attachs': [], 'description': '工单说明\\n', 'extra_data': {'completion_days': '12', 'items': [], 'need_group': 1...'taobao', ...}, 'template_id': 1}, 'endpoint': '/wo', 'headers': {'Authorization': 'Bearer {token}'}, 'method': 'POST'}\nvalidations = [{'expected': 200, 'type': 'status_code'}, {'expected': 200, 'type': 'response_code'}, {'expected': '创建成功', 'type': 'message_contains'}]\n\n    def _run_validations(self, response, request_data, validations):\n        for validation in validations:\n            validation_type = validation[\"type\"]\n    \n            if validation_type == \"status_code\":\n                self._validate_status_code(response, validation[\"expected\"])\n            elif validation_type == \"response_code\":\n>               self._validate_response_code(response, validation[\"expected\"])\n\ntests\\api\\test_wo_api.py:122: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <api_test_framework.tests.api.test_wo_api.TestWoAPI object at 0x000001EE40DF4F50>\nresponse = <Response [200]>, expected = 200\n\n    def _validate_response_code(self, response, expected):\n        response_data = response.json()\n>       assert response_data[\"code\"] == expected, f\"响应码应该为{expected}，实际为{response_data['code']}\"\nE       AssertionError: 响应码应该为200，实际为400\nE       assert 400 == 200\n\ntests\\api\\test_wo_api.py:47: AssertionError"}, "steps": [{"name": "测试用例: 缺少必填字段-extra_data.items", "status": "failed", "statusDetails": {"message": "AssertionError: 响应码应该为200，实际为400\nassert 400 == 200\n", "trace": "  File \"D:\\code\\test\\api_test_framework\\tests\\api\\test_wo_api.py\", line 174, in test_wo_api\n    self._run_validations(response, test_case[\"request\"], test_case[\"validations\"])\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\code\\test\\api_test_framework\\tests\\api\\test_wo_api.py\", line 122, in _run_validations\n    self._validate_response_code(response, validation[\"expected\"])\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\code\\test\\api_test_framework\\tests\\api\\test_wo_api.py\", line 47, in _validate_response_code\n    assert response_data[\"code\"] == expected, f\"响应码应该为{expected}，实际为{response_data['code']}\"\n"}, "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "响应内容", "source": "6e3438bb-cdb4-421e-a588-9cdb3b2949c9-attachment.txt", "type": "text/plain"}, {"name": "请求数据", "source": "b92ca12b-1b0f-4a55-b28c-6c3aa156d959-attachment.json", "type": "application/json"}], "start": 1767014700930, "stop": 1767014701236}, {"name": "验证响应", "status": "failed", "statusDetails": {"message": "AssertionError: 响应码应该为200，实际为400\nassert 400 == 200\n", "trace": "  File \"D:\\code\\test\\api_test_framework\\tests\\api\\test_wo_api.py\", line 174, in test_wo_api\n    self._run_validations(response, test_case[\"request\"], test_case[\"validations\"])\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\code\\test\\api_test_framework\\tests\\api\\test_wo_api.py\", line 122, in _run_validations\n    self._validate_response_code(response, validation[\"expected\"])\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\code\\test\\api_test_framework\\tests\\api\\test_wo_api.py\", line 47, in _validate_response_code\n    assert response_data[\"code\"] == expected, f\"响应码应该为{expected}，实际为{response_data['code']}\"\n"}, "start": 1767014701236, "stop": 1767014701237}], "start": 1767014700930, "stop": 1767014701239}], "attachments": [{"name": "失败信息", "source": "f907f076-9d29-4c24-b195-b4490a535560-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "test_case_index", "value": "7"}], "start": 1767014700929, "stop": 1767014701240, "uuid": "579714c8-1c63-4b6f-9899-2adc0c5d3b17", "historyId": "4428ccae16670e37b8b6427ff41fbc5b", "testCaseId": "5669fa0d7c46f548df7397704e776171", "fullName": "tests.api.test_wo_api.TestWoAPI#test_wo_api", "labels": [{"name": "feature", "value": "工单管理"}, {"name": "story", "value": "创建工单接口"}, {"name": "severity", "value": "critical"}, {"name": "tag", "value": "smoke"}, {"name": "tag", "value": "api"}, {"name": "tag", "value": "wo"}, {"name": "tag", "value": "wo"}, {"name": "tag", "value": "api"}, {"name": "tag", "value": "smoke"}, {"name": "parentSuite", "value": "tests.api"}, {"name": "suite", "value": "test_wo_api"}, {"name": "subSuite", "value": "TestWoAPI"}, {"name": "host", "value": "lianxiang"}, {"name": "thread", "value": "19832-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.api.test_wo_api"}]}